<div class="container mar-top-2 center-content">
  <h2>Registrieren</h2>

  <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <div class="form-inputs">
      <div class="form-inputs-inline">
        <div class="input-inline">
          <div class="input-field mar-top-2" style="width: 100%;">
            <%= f.input_field :first_name, placeholder: ' ', required: true, autofocus: true, input_html: { autocomplete: "first-name" }, style: 'display: block;' %>
            <%= f.label :first_name, label: 'Vorname' %>
          </div>
          <div class="form-error-message">
            <%= resource.errors.full_messages_for(:first_name).last if resource.errors.has_key?(:first_name) %>
          </div>
        </div>
        <div class="input-inline">
          <div class="input-field mar-top-2" style="width: 100%;">
            <%= f.input_field :last_name, placeholder: ' ', required: true, input_html: { autocomplete: "last-name" }, style: 'display: block;' %>
            <%= f.label :last_name, label: 'Nachname' %>
          </div>
          <div class="form-error-message">
            <%= resource.errors.full_messages_for(:last_name).last if resource.errors.has_key?(:last_name) %>
          </div>
        </div>
      </div>
      <div class="input-field mar-top-2">
        <%= f.input_field :email, placeholder: ' ', required: true, input_html: { autocomplete: "email" }, style: 'display: block;' %>
        <%= f.label :email %>
      </div>
      <div class="form-error-message">
        <%= resource.errors.full_messages_for(:email).last if resource.errors.has_key?(:email) %>
      </div>
      <div class="input-field mar-top-3">
        <%= f.input_field :password, placeholder: ' ', required: true, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length), input_html: { autocomplete: "new-password" }, style: 'display: block;' %>
        <%= f.label :password, label: 'Passwort' %>
        <span class="toggle-password" data-toggle="user_password"><i class="fas fa-eye"></i></span>
      </div>
      <div class="form-error-message">
        <%= resource.errors.full_messages_for(:password).last if resource.errors.has_key?(:password) %>
      </div>
      <div class="input-field mar-top-3">
        <%= f.input_field :password_confirmation, placeholder: ' ', required: true, input_html: { autocomplete: "new-password" }, style: 'display: block;' %>
        <%= f.label :password_confirmation, label: 'Passwort bestÃ¤tigen' %>
        <span class="toggle-password" data-toggle="user_password_confirmation"><i class="fas fa-eye"></i></span>
      </div>
      <div class="form-error-message">
        <%= resource.errors.full_messages_for(:password_confirmation).last if resource.errors.has_key?(:password_confirmation) %>
      </div>
    </div>

    <div class="form-actions center-content">
      <%= f.button :submit, "Registrieren", class: "button-sign-up" %>
    </div>
    <div class="mar-top-2 pad-top-1 center-content form-links">
      <%= render "devise/shared/links" %>
    </div>
  <% end %>
</div>

<script>
  showButtons = document.querySelectorAll('.toggle-password')
  showButtons.forEach(button => {
    button.addEventListener('mouseenter', e => {
      document.getElementById(button.dataset.toggle).type = 'text';
    });
    button.addEventListener('mouseleave', e => {
      document.getElementById(button.dataset.toggle).type = 'password';
    });
  });
</script>
